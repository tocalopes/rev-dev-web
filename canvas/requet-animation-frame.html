<!DOCTYPE html>
<html>
	<head>
	<meta charset="utf-8"/>
	<title> request animation frame</title>
	</head>
<body>
	<canvas id="minha-tela" width="800" height="400" style="border: #F00 solid 1px;"> </canvas>  
	<script>  
		var canvas = document.getElementById('minha-tela'); 
		var ctx = canvas.getContext('2d');
        
        var x = 0;
        var y = 150;

        requestAnimationFrame(gameloop);
        function gameloop(){
            if(x<=700) drawSquare(x,y);
            else clearTimeout();
            x = x + 10;
            requestAnimationFrame(gameloop);
        }

        function drawSquare(px,py){
            ctx.clearRect(0,0,800,400);
            ctx.fillStyle = '#00F';
            ctx.fillRect(px,py,100,100);
        }

     </script>

</body>
</html>